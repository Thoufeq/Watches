<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patek Philippe Nautilus 5711/1A-010 - Chronos Elite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="../styles/auth.css">
<link rel="stylesheet" href="../styles/payment.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        // TODO: Replace with your Firebase project configuration
        const firebaseConfig = {
  apiKey: "AIzaSyB6qNMJKmlucFTpYHS3OPJXMgiAxOZuyPA",
  authDomain: "watchusers-b9bcf.firebaseapp.com",
  projectId: "watchusers-b9bcf",
  storageBucket: "watchusers-b9bcf.firebasestorage.app",
  messagingSenderId: "400297236065",
  appId: "1:400297236065:web:123936c6697564c81bfc20",
  measurementId: "G-LSK7P0653M"
};
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>

    <style>
      :root {
          /* Luxury Navy Color Palette */
          --primary-navy: #1a237e;
          --secondary-navy: #283593;
          --light-navy: #3949ab;
          --accent-white: #ffffff;
          --accent-gold: #ffd700;

          /* Additional colors */
          --light-gray: #f8f9fa;
          --medium-gray: #6c757d;
          --dark-gray: #343a40;
          --border-light: #e9ecef;
          --shadow-light: rgba(26, 35, 126, 0.1);
          --shadow-medium: rgba(26, 35, 126, 0.15);
          --shadow-heavy: rgba(26, 35, 126, 0.25);
          --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          --transition-medium: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          --spacing-sm: 0.5rem;
          --spacing-md: 1rem;
          --spacing-lg: 1.5rem;
          --spacing-xl: 2rem;
          --font-heading: 'Playfair Display', serif;
          --font-body: 'Inter', sans-serif;
          --border-radius: 8px;
          --pure-white: #ffffff;
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: var(--font-body);
          line-height: 1.6;
          color: var(--dark-gray);
          background-color: var(--accent-white);
          overflow-x: hidden;
          font-size: 14px;
          line-height: 1.4;
      }

      h1, h2, h3, h4, h5, h6 {
          font-family: var(--font-heading);
      }

      html {
          scroll-behavior: smooth;
      }

      /* Header */
      .header {
          background: var(--accent-white);
          box-shadow: 0 10px 30px var(--shadow-light);
          position: sticky;
          top: 0;
          z-index: 1000;
          padding: 0.75rem 0;
          border-bottom: 1px solid var(--border-light);
      }

      .header-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 2rem;
          display: flex;
          align-items: center;
          justify-content: space-between;
      }

      .brand-logo {
          font-family: var(--font-heading);
          font-size: 1.8rem;
          font-weight: 600;
          color: var(--primary-navy);
          text-decoration: none;
          letter-spacing: 2px;
      }

      .nav-links {
          display: flex;
          gap: 2rem;
          list-style: none;
      }

      .nav-link {
          color: var(--dark-gray);
          text-decoration: none;
          font-weight: 500;
          transition: var(--transition);
          position: relative;
      }

      .nav-link:hover {
          color: var(--primary-navy);
      }

      .back-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          background: none;
          border: none;
          color: var(--medium-gray);
          cursor: pointer;
          font-size: 0.9rem;
          transition: var(--transition);
      }

      .back-btn:hover {
          color: var(--primary-navy);
      }

      /* Floating Navigation */
      .floating-nav {
          position: fixed;
          top: 50%;
          right: 2rem;
          transform: translateY(-50%);
          z-index: 40;
          background: white;
          border-radius: 50px;
          padding: 0.5rem;
          box-shadow: 0 20px 40px var(--shadow-medium);
      }

      .floating-nav button {
          display: block;
          width: 12px;
          height: 12px;
          border-radius: 50%;
          margin-bottom: 12px;
          background: #d1d5db;
          border: none;
          cursor: pointer;
          transition: var(--transition);
      }

      .floating-nav button:last-child {
          margin-bottom: 0;
      }

      .floating-nav button.active {
          background: var(--primary-navy);
          transform: scale(1.25);
      }

      .floating-nav button:hover {
          background: var(--medium-gray);
      }

      /* Mobile Navigation */
      .mobile-nav {
          display: none;
          position: sticky;
          top: 80px;
          z-index: 40;
          background: white;
          border-bottom: 1px solid var(--border-light);
      }

      .mobile-nav-container {
          display: flex;
          overflow-x: auto;
          padding: 0 1rem;
          scrollbar-width: none;
          -ms-overflow-style: none;
      }

      .mobile-nav-container::-webkit-scrollbar {
          display: none;
      }

      .mobile-nav button {
          flex-shrink: 0;
          padding: 0.75rem 1.5rem;
          font-size: 0.875rem;
          font-weight: 500;
          text-transform: capitalize;
          white-space: nowrap;
          background: none;
          border: none;
          color: var(--medium-gray);
          cursor: pointer;
          transition: var(--transition);
      }

      .mobile-nav button.active {
          color: var(--primary-navy);
          border-bottom: 2px solid var(--primary-navy);
      }

      /* Navigation Bar */
      .navbar {
          background: var(--pure-white);
          box-shadow: 0 2px 20px var(--shadow-light);
          position: sticky;
          top: 0;
          z-index: 1000;
          transition: var(--transition-medium);
      }

      .nav-container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 var(--spacing-lg);
          display: flex;
          align-items: center;
          justify-content: space-between;
          height: 80px;
      }

      .nav-brand {
          display: flex;
          align-items: center;
      }

      .brand-logo {
          font-family: var(--font-heading);
          font-size: 1.8rem;
          font-weight: 600;
          color: var(--primary-navy);
          text-decoration: none;
          letter-spacing: 2px;
      }

      .nav-search {
          flex: 1;
          max-width: 500px;
          margin: 0 var(--spacing-xl);
      }

      .search-container {
          position: relative;
      }

      .search-input {
          width: 100%;
          padding: 12px 50px 12px 20px;
          border: 2px solid var(--border-light);
          border-radius: var(--border-radius-lg);
          font-size: 1rem;
          transition: var(--transition-medium);
          background: var(--light-gray);
      }

      .search-input:focus {
          outline: none;
          border-color: var(--primary-navy);
          background: var(--pure-white);
          box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
      }

      .search-btn {
          position: absolute;
          right: 15px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: var(--medium-gray);
          cursor: pointer;
          font-size: 1.1rem;
          transition: var(--transition-fast);
      }

      .nav-actions {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
      }

      .account-btn, .cart-btn {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          background: none;
          border: none;
          color: var(--dark-gray);
          cursor: pointer;
          font-weight: 500;
          transition: var(--transition-fast);
          padding: 10px 15px;
          border-radius: var(--border-radius);
      }

      .account-btn:hover, .cart-btn:hover {
          background: var(--light-gray);
          color: var(--primary-navy);
      }

      .cart-count {
          background: var(--primary-navy);
          color: var(--pure-white);
          border-radius: 50%;
          padding: 2px 8px;
          font-size: 0.8rem;
          min-width: 20px;
          text-align: center;
      }

      .mobile-menu-btn {
          display: none;
          flex-direction: column;
          background: none;
          border: none;
          cursor: pointer;
          padding: 5px;
          gap: 4px;
      }

      .mobile-menu-btn span {
          width: 25px;
          height: 3px;
          background: var(--primary-navy);
          transition: var(--transition-fast);
      }

      /* Mobile Menu Styles */
      .mobile-menu {
          position: fixed;
          top: 80px;
          left: -100%;
          width: 100%;
          height: calc(100vh - 80px);
          background: var(--pure-white);
          transition: var(--transition-medium);
          z-index: 999;
      }

      .mobile-menu.active {
          left: 0;
      }

      .mobile-menu-content {
          padding: var(--spacing-xl);
          display: flex;
          flex-direction: column;
          gap: var(--spacing-lg);
      }

      .mobile-nav-link {
          padding: var(--spacing-md);
          color: var(--dark-gray);
          text-decoration: none;
          font-weight: 500;
          border-bottom: 1px solid var(--border-light);
      }

      .mobile-account-btn {
          padding: var(--spacing-md);
          background: var(--primary-navy);
          color: var(--pure-white);
          border: none;
          border-radius: var(--border-radius);
          font-weight: 600;
          cursor: pointer;
      }

      /* Main Content */
      .main-content {
          max-width: 1280px;
          margin: 0 auto;
          padding: 2rem 1rem;
      }

      /* Product Overview */
      .product-overview {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 2rem;
          margin-bottom: 2rem;
          opacity: 0;
          transform: translateY(30px);
          animation: fadeInUp 0.8s ease-out 0.2s forwards;
      }

      .product-image-container {
          position: relative;
      }

      .product-image-wrapper {
          aspect-ratio: 1;
          overflow: hidden;
          border-radius: 12px;
          background: linear-gradient(135deg, #f8f9fa, #e9ecef);
          padding: 2rem;
      }

      .product-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
          border-radius: 12px;
          transition: var(--transition);
          cursor: zoom-in;
      }

      .product-image:hover {
          transform: scale(1.02);
      }

      .product-info {
          display: flex;
          flex-direction: column;
          justify-content: center;
          gap: 1.5rem;
      }

      .product-brand {
          font-size: 0.8rem;
          color: var(--medium-gray);
          text-transform: uppercase;
          letter-spacing: 1px;
          font-weight: 500;
          margin-bottom: 1rem; /* Increased from 0 */
      }

      .product-title {
          font-family: 'Playfair Display', serif;
          font-size: 2rem;
          font-weight: 600;
          color: var(--primary-navy);
          line-height: 1.2;
          margin-bottom: 1.5rem; /* Increased from 0.5rem */
      }

      .product-rating {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 2rem; /* Increased from 1rem */
      }

      .stars {
          display: flex;
          gap: 2px;
      }

      .star {
          color: var(--accent-gold);
          font-size: 1.2rem;
      }

      .star.empty {
          color: #d1d5db;
      }

      .rating-text {
          color: var(--medium-gray);
          font-size: 0.875rem;
          margin-left: 0.5rem;
      }

      .product-price {
          font-size: 2rem;
          font-weight: 700;
          color: var(--primary-navy);
          margin-bottom: 2rem; /* Increased from 1rem */
          padding-top: 0.5rem; /* Adds space above price */
      }

      /* Specifications */
      .specs-card {
          background: var(--light-gray);
          padding: 1rem;
          border-radius: 12px;
          margin-bottom: 1rem;
          box-shadow: 0 10px 30px var(--shadow-light);
      }

      .specs-title {
          font-family: 'Playfair Display', serif;
          font-size: 1.1rem;
          color: var(--primary-navy);
          margin-bottom: 0.75rem;
      }

      .spec-item {
          display: flex;
          justify-content: space-between;
          padding: 0.35rem 0;
          border-bottom: 1px solid var(--border-light);
      }

      .spec-item:last-child {
          border-bottom: none;
      }

      .spec-label {
          font-weight: 500;
          color: var(--medium-gray);
          text-transform: capitalize;
      }

      .spec-value {
          font-weight: 600;
          color: var(--dark-gray);
      }

      /* Action Buttons */
      .action-buttons {
          display: flex;
          gap: 1rem;
          margin-top: 2rem;
      }

      .btn {
          flex: 1;
          padding: 0.75rem 1.5rem;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          font-size: 0.9rem;
          cursor: pointer;
          transition: var(--transition);
          position: relative;
          overflow: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
      }

      .btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s;
      }

      .btn:hover::before {
          left: 100%;
      }

      .btn-primary {
          background: var(--primary-navy);
          color: var(--accent-white);
      }

      .btn-primary:hover {
          background: var(--secondary-navy);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(26, 35, 126, 0.3);
      }

      .btn-secondary {
          background: transparent;
          color: var(--primary-navy);
          border: 2px solid var(--primary-navy);
      }

      .btn-secondary:hover {
          background: var(--primary-navy);
          color: var(--accent-white);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(26, 35, 126, 0.3);
      }

      /* Sections */
      .section {
          width: 100%;
          padding: 2.5rem 0;
          opacity: 0;
          transform: translateY(20px);
          animation: fadeInSection 0.8s ease-out forwards;
      }

      .section-alt {
          background: var(--light-gray);
      }

      .section-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 1.5rem;
      }

      .section-header {
          text-align: center;
          margin-bottom: 2rem;
      }

      .section-title {
          font-family: 'Playfair Display', serif;
          font-size: 1.75rem;
          font-weight: 600;
          color: var(--primary-navy);
          margin-bottom: 0.5rem;
      }

      .section-subtitle {
          font-size: 0.95rem;
          color: var(--medium-gray);
          max-width: 32rem;
          margin: 0 auto;
      }

      /* Features Grid */
      .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
      }

      .feature-card {
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          text-align: center;
          box-shadow: 0 10px 30px var(--shadow-light);
          transition: var(--transition);
      }

      .feature-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 20px 40px var(--shadow-medium);
      }

      .feature-icon {
          width: 3rem;
          height: 3rem;
          background: var(--primary-navy);
          color: var(--accent-white);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 1rem;
          font-size: 1.5rem;
          transition: var(--transition);
      }

      .feature-card:hover .feature-icon {
          transform: scale(1.1);
      }

      .feature-title {
          font-size: 1rem;
          font-weight: 600;
          color: var(--dark-gray);
          margin-bottom: 0.5rem;
      }

      .feature-description {
          color: var(--medium-gray);
          font-size: 0.85rem;
      }

      /* Reviews Grid */
      .reviews-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 2rem;
      }

      .review-card {
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px var(--shadow-light);
          transition: var(--transition);
      }

      .review-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 20px 40px var(--shadow-medium);
      }

      .review-rating {
          display: flex;
          align-items: center;
          margin-bottom: 1rem;
      }

      .review-text {
          color: var(--dark-gray);
          font-style: italic;
          margin-bottom: 1rem;
          line-height: 1.6;
          font-size: 0.9rem;
      }

      .reviewer {
          display: flex;
          align-items: center;
      }

      .reviewer-avatar {
          width: 3rem;
          height: 3rem;
          border-radius: 50%;
          background: #d1d5db;
          margin-right: 1rem;
      }

      .reviewer-name {
          font-weight: 600;
          color: var(--dark-gray);
          font-size: 0.9rem;
      }

      .reviewer-title {
          font-size: 0.8rem;
          color: var(--medium-gray);
      }

      /* Similar Watches */
      .similar-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
      }

      .watch-card {
          background: white;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 10px 30px var(--shadow-light);
          transition: var(--transition);
      }

      .watch-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 20px 40px var(--shadow-medium);
      }

      .watch-image-container {
          aspect-ratio: 1;
          overflow: hidden;
          background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      }

      .watch-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: var(--transition);
      }

      .watch-card:hover .watch-image {
          transform: scale(1.05);
      }

      .watch-info {
          padding: 1.5rem;
      }

      .watch-brand {
          font-size: 0.7rem;
          color: var(--medium-gray);
          text-transform: uppercase;
          letter-spacing: 1px;
          font-weight: 500;
          margin-bottom: 0.5rem;
      }

      .watch-model {
          font-family: 'Playfair Display', serif;
          font-size: 1rem;
          font-weight: 600;
          color: var(--primary-navy);
          margin-bottom: 0.75rem;
      }

      .watch-price {
          font-size: 1.1rem;
          font-weight: 700;
          color: var(--primary-navy);
          margin-bottom: 0.75rem;
      }

      .watch-btn {
          width: 100%;
          padding: 0.75rem 1rem;
          background: transparent;
          color: var(--primary-navy);
          border: 2px solid var(--primary-navy);
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          transition: var(--transition);
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
      }

      .watch-btn:hover {
          background: var(--primary-navy);
          color: var(--accent-white);
      }

      /* Footer */
      .footer {
          background: var(--primary-navy);
          color: var(--accent-white);
          padding: 2.5rem 0 1.5rem;
      }

      .footer-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 2rem;
      }

      .footer-content {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 2rem;
          margin-bottom: 2rem;
      }

      .footer-brand {
          font-family: 'Playfair Display', serif;
          font-size: 1.25rem;
          font-weight: 600;
          letter-spacing: 1.2px;
          margin-bottom: 1rem;
          display: block;
          color: var(--accent-white);
          text-decoration: none;
      }

      .footer-description {
          color: rgba(255, 255, 255, 0.8);
          margin-bottom: 1rem;
          font-size: 0.85rem;
          max-width: 24rem;
      }

      .social-links {
          display: flex;
          gap: 1rem;
      }

      .social-link {
          width: 2.5rem;
          height: 2.5rem;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.1);
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--accent-white);
          text-decoration: none;
          transition: var(--transition);
      }

      .social-link:hover {
          background: rgba(255, 255, 255, 0.2);
      }

      .footer-section h3 {
          font-weight: 600;
          font-size: 1rem;
          margin-bottom: 0.75rem;
      }

      .footer-links {
          list-style: none;
      }

      .footer-links li {
          margin-bottom: 0.35rem;
          font-size: 0.85rem;
      }

      .footer-links a {
          color: rgba(255, 255, 255, 0.8);
          text-decoration: none;
          transition: var(--transition);
      }

      .footer-links a:hover {
          color: var(--accent-white);
      }

      .footer-bottom {
          border-top: 1px solid rgba(255, 255, 255, 0.2);
          padding-top: 1.5rem;
          text-align: center;
          color: rgba(255, 255, 255, 0.6);
          font-size: 0.8rem;
      }

      /* Modal */
      .modal {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.9);
          z-index: 1000;
          justify-content: center;
          align-items: center;
          cursor: zoom-out;
      }

      .modal img {
          max-width: 90%;
          max-height: 90%;
          object-fit: contain;
      }

      /* Cart Sidebar */
.cart-sidebar {
    position: fixed;
    top: 0;
    right: -100%;
    width: 400px;
    height: 100vh;
    background: var(--pure-white);
    box-shadow: -5px 0 30px rgba(0, 0, 0, 0.1);
    transition: right 0.3s ease-in-out;
    z-index: 1001;
}

.cart-sidebar.active {
    right: 0;
}

.cart-content {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.cart-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--border-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cart-header h3 {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    color: var(--primary-navy);
}

.close-cart {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--medium-gray);
    cursor: pointer;
    transition: var(--transition-fast);
}

.close-cart:hover {
    color: var(--primary-navy);
}

.cart-items {
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem;
}

.cart-footer {
    padding: 1.5rem;
    border-top: 1px solid var(--border-light);
}

.cart-total {
    margin-bottom: 1.5rem;
}

.total-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    color: var(--medium-gray);
}

.total-row.total-final {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--primary-navy);
}

.checkout-btn {
    width: 100%;
    padding: 1rem;
    background: var(--primary-navy);
    color: var(--pure-white);
    border: none;
    border-radius: var(--border-radius);
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: var(--transition);
}

.checkout-btn:hover {
    background: var(--secondary-navy);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(26, 35, 126, 0.2);
}

@media (max-width: 480px) {
    .cart-sidebar {
        width: 100%;
    }
}
      /* Animations */
      @keyframes fadeInUp {
          from {
              opacity: 0;
              transform: translateY(30px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      @keyframes fadeInSection {
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
          .floating-nav {
              display: none;
          }

          .mobile-nav {
              display: block;
          }
      }

      @media (max-width: 768px) {
          .nav-links {
              display: none;
          }

          .product-overview {
              grid-template-columns: 1fr;
              gap: 2rem;
          }

          .product-title {
              font-size: 1.75rem;
          }

          .product-price {
              font-size: 1.75rem;
          }

          .action-buttons {
              flex-direction: column;
          }

          .section-title {
              font-size: 1.5rem;
          }

          .footer-content {
              grid-template-columns: 1fr;
              text-align: center;
          }

          .social-links {
              justify-content: center;
          }
      }

      @media (max-width: 480px) {
          .main-content {
              padding: 1rem;
          }

          .section-container {
              padding: 0 1rem;
          }

          .product-title {
              font-size: 1.5rem;
          }

          .section-title {
              font-size: 1.25rem;
          }
      }
      .user-dropdown {
    position: relative;
}
.user-dropdown.hidden {
    display: none !important;
}
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="#" class="brand-logo" onclick="location.href='luxury.html'">CHRONOS ELITE</a>
            </div>

            <div class="nav-search">
                <div class="search-container">
                    <input type="text" placeholder="Search luxury watches..." class="search-input" id="searchInput">
                    <button class="search-btn"><i class="fas fa-search"></i></button>
                    <div class="search-suggestions" id="searchSuggestions"></div>
                </div>
            </div>

            <div class="nav-actions">
                <div class="nav-links">
                    <a href="#" class="nav-link"><ion-icon name="home-sharp" size="medium"></ion-icon></a>   
                </div>
                <!-- Account button (shown when not logged in) -->
                <button class="account-btn">
                    <i class="fas fa-user"></i>
                    <span>Account</span>
                </button>
                <!-- User dropdown (shown when logged in) -->
                <div class="user-dropdown hidden" id="userDropdown">
                    <div class="user-avatar" id="userAvatar"></div>
                    <div class="user-menu" id="userMenu">
                        <div class="user-menu-item" id="userNameDisplay"></div>
                        <div class="user-menu-item" id="userEmailDisplay"></div>
                        <div class="user-menu-item" id="logoutBtn">Logout</div>
                    </div>
                </div>
                <button class="cart-btn" id="cartBtn">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-content">
            <a href="#" class="mobile-nav-link">Home</a>
            <a href="#" class="mobile-nav-link">Collections</a>
            <a href="#" class="mobile-nav-link">About</a>
            <a href="#" class="mobile-nav-link">Contact</a>
            <button class="mobile-account-btn">
                <i class="fas fa-user"></i> Account
            </button>
        </div>
    </div>

    <!-- Floating Navigation -->
    <nav class="floating-nav">
      <button
        onclick="scrollToSection('description')"
        title="Description"
        data-section="description"
      ></button>
      <button
        onclick="scrollToSection('features')"
        title="Features"
        data-section="features"
      ></button>
      <button
        onclick="scrollToSection('reviews')"
        title="Reviews"
        data-section="reviews"
      ></button>
      <button
        onclick="scrollToSection('similar')"
        title="Similar"
        data-section="similar"
      ></button>
    </nav>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
      <div class="mobile-nav-container">
        <button
          onclick="scrollToSection('description')"
          data-section="description"
        >
          description
        </button>
        <button onclick="scrollToSection('features')" data-section="features">
          features
        </button>
        <button onclick="scrollToSection('reviews')" data-section="reviews">
          reviews
        </button>
        <button onclick="scrollToSection('similar')" data-section="similar">
          Similar Watches
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main>
      <!-- Product Overview Section -->
      <section class="main-content">
        <div class="product-overview">
          <!-- Product Image -->
          <div class="product-image-container">
            <div class="product-image-wrapper">
              <img
                src="https://cdn.builder.io/api/v1/assets/9270534cc8b043ab863f15f4a24727ed/pasted-text-1752325177542-20yfsy4-3a4f9e"
                alt="Patek Philippe Nautilus 5711/1A-010"
                class="product-image"
                onclick="openImageZoom()"
              />
            </div>
          </div>

          <!-- Product Info -->
          <div class="product-info">
            <div>
              <p class="product-brand">PATEK PHILIPPE</p>
              <h1 class="product-title">Nautilus 5711/1A-010</h1>
              <div class="product-rating">
                <div class="stars">
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                </div>
                <span class="rating-text">(4.9/5.0)</span>
              </div>
            </div>

            <div class="product-price">$125,000</div>

            <!-- Specifications -->
            <div class="specs-card">
              <h3 class="specs-title">Specifications</h3>
              <div class="spec-item">
                <span class="spec-label">Year</span>
                <span class="spec-value">2023</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Movement</span>
                <span class="spec-value">Caliber 324 S C</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Material</span>
                <span class="spec-value">Stainless Steel</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Category</span>
                <span class="spec-value">Luxury Sports</span>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
              <button class="btn btn-primary" onclick="addToCart()">
                <i class="fas fa-shopping-cart"></i>
                Add to Cart
              </button>
              <button class="btn btn-secondary" onclick="buyNow()">
                <i class="fas fa-bolt"></i>
                Buy Now
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Description Section -->
      <section id="description" class="section section-alt">
        <div class="section-container">
          <div class="section-header">
            <h2 class="section-title">Product Description</h2>
          </div>
          <div style="max-width: 64rem; margin: 0 auto; text-align: center">
            <p
              style="
                font-size: 1.125rem;
                line-height: 1.8;
                color: var(--dark-gray);
              "
            >
              The Patek Philippe Nautilus 5711/1A-010 represents the pinnacle of
              luxury watchmaking, combining traditional craftsmanship with
              modern innovation. This exceptional timepiece features precision
              Caliber 324 S C movement and is crafted from premium stainless
              steel. Designed for the discerning collector, this luxury sports
              watch embodies elegance and sophistication. Every detail has been
              meticulously crafted to ensure both aesthetic beauty and
              functional excellence, making it a perfect addition to any luxury
              watch collection.
            </p>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section id="features" class="section">
        <div class="section-container">
          <div class="section-header">
            <h2 class="section-title">Premium Features</h2>
            <p class="section-subtitle">
              Discover the exceptional craftsmanship and innovative technology
              that makes this timepiece extraordinary.
            </p>
          </div>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-gem"></i>
              </div>
              <h3 class="feature-title">Sapphire Crystal Glass</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-tint"></i>
              </div>
              <h3 class="feature-title">Water Resistant</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
              </div>
              <h3 class="feature-title">Anti-Magnetic</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-clock"></i>
              </div>
              <h3 class="feature-title">Precision Movement</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-certificate"></i>
              </div>
              <h3 class="feature-title">Swiss Made</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-award"></i>
              </div>
              <h3 class="feature-title">Limited Edition</h3>
              <p class="feature-description">
                Premium quality that defines luxury timepieces.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Reviews Section -->
      <section id="reviews" class="section section-alt">
        <div class="section-container">
          <div class="section-header">
            <h2 class="section-title">Customer Reviews</h2>
            <p class="section-subtitle">
              Hear from our valued customers who have experienced the excellence
              of our luxury timepieces.
            </p>
          </div>
          <div class="reviews-grid">
            <div class="review-card">
              <div class="review-rating">
                <div class="stars">
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                </div>
              </div>
              <p class="review-text">
                "Absolutely stunning timepiece. The craftsmanship is
                unparalleled and the attention to detail is remarkable."
              </p>
              <div class="reviewer">
                <div class="reviewer-avatar"></div>
                <div>
                  <p class="reviewer-name">James Wilson</p>
                  <p class="reviewer-title">Collector</p>
                </div>
              </div>
            </div>
            <div class="review-card">
              <div class="review-rating">
                <div class="stars">
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                </div>
              </div>
              <p class="review-text">
                "A masterpiece that combines traditional elegance with modern
                precision. Worth every penny."
              </p>
              <div class="reviewer">
                <div class="reviewer-avatar"></div>
                <div>
                  <p class="reviewer-name">Sarah Chen</p>
                  <p class="reviewer-title">Enthusiast</p>
                </div>
              </div>
            </div>
            <div class="review-card">
              <div class="review-rating">
                <div class="stars">
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                  <span class="star">★</span>
                </div>
              </div>
              <p class="review-text">
                "The perfect blend of heritage and innovation. This watch
                exceeds all expectations."
              </p>
              <div class="reviewer">
                <div class="reviewer-avatar"></div>
                <div>
                  <p class="reviewer-name">Michael Ross</p>
                  <p class="reviewer-title">Connoisseur</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Similar Watches Section -->
      <section id="similar" class="section">
        <div class="section-container">
          <div class="section-header">
            <h2 class="section-title">Similar Watches You May Like</h2>
            <p class="section-subtitle">
              Explore other exceptional timepieces from our curated collection
              of luxury watches.
            </p>
          </div>
          <div class="similar-grid">
            <div class="watch-card">
              <div class="watch-image-container">
                <img
                  src="https://images.unsplash.com/photo-1523170335258-f5ed11844a49?w=400&h=400&fit=crop&crop=center"
                  alt="Rolex Submariner Date"
                  class="watch-image"
                />
              </div>
              <div class="watch-info">
                <p class="watch-brand">ROLEX</p>
                <h3 class="watch-model">Submariner Date</h3>
                <p class="watch-price">$95,000</p>
                <button class="watch-btn">
                  View Details
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="watch-card">
              <div class="watch-image-container">
                <img
                  src="https://images.unsplash.com/photo-1594534475808-b18fc33b045e?w=400&h=400&fit=crop&crop=center"
                  alt="Audemars Piguet Royal Oak"
                  class="watch-image"
                />
              </div>
              <div class="watch-info">
                <p class="watch-brand">AUDEMARS PIGUET</p>
                <h3 class="watch-model">Royal Oak</h3>
                <p class="watch-price">$180,000</p>
                <button class="watch-btn">
                  View Details
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="watch-card">
              <div class="watch-image-container">
                <img
                  src="https://images.unsplash.com/photo-1606390568096-ca7d1ab5880e?w=400&h=400&fit=crop&crop=center"
                  alt="Omega Speedmaster Professional"
                  class="watch-image"
                />
              </div>
              <div class="watch-info">
                <p class="watch-brand">OMEGA</p>
                <h3 class="watch-model">Speedmaster Professional</h3>
                <p class="watch-price">$65,000</p>
                <button class="watch-btn">
                  View Details
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="watch-card">
              <div class="watch-image-container">
                <img
                  src="https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?w=400&h=400&fit=crop&crop=center"
                  alt="Vacheron Constantin Overseas"
                  class="watch-image"
                />
              </div>
              <div class="watch-info">
                <p class="watch-brand">VACHERON CONSTANTIN</p>
                <h3 class="watch-model">Overseas</h3>
                <p class="watch-price">$220,000</p>
                <button class="watch-btn">
                  View Details
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-content">
          <div>
            <a href="#" class="footer-brand">CHRONOS ELITE</a>
            <p class="footer-description">
              Curating the world's finest luxury timepieces since 1985.
              Experience the perfect fusion of heritage craftsmanship and modern
              innovation.
            </p>
            <div class="social-links">
              <a href="#" class="social-link">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="social-link">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-link">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="#" class="social-link">
                <i class="fab fa-youtube"></i>
              </a>
            </div>
          </div>
          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul class="footer-links">
              <li><a href="#">Home</a></li>
              <li><a href="#">Collection</a></li>
              <li><a href="#">Heritage</a></li>
              <li><a href="#">About</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Support</h3>
            <ul class="footer-links">
              <li><a href="#">Contact</a></li>
              <li><a href="#">Service</a></li>
              <li><a href="#">Warranty</a></li>
              <li><a href="#">Authentication</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            © 2024 Chronos Elite. All rights reserved. | Privacy Policy | Terms
            of Service
          </p>
        </div>
      </div>
    </footer>

    <!-- Image Zoom Modal -->
    <div id="imageModal" class="modal" onclick="closeImageZoom()">
      <img id="zoomedImage" src="" alt="Zoomed Watch" />
    </div>

    <!-- Cart Sidebar -->
<div class="cart-sidebar" id="cartSidebar">
    <div class="cart-content">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="close-cart" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be dynamically added here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <div class="total-row">
                    <span>Shipping:</span>
                    <span>Free</span>
                </div>
                <div class="total-row total-final">
                    <span>Total:</span>
                    <span id="cartTotal">$0</span>
                </div>
            </div>
            <button class="checkout-btn">
                <i class="fas fa-lock"></i>
                Secure Checkout
            </button>
        </div>
    </div>
</div>

<!-- Auth Popup -->
<div class="auth-popup" id="authPopup">
    <div class="auth-container">
        <button class="close-auth" id="closeAuth">
            <i class="fas fa-times"></i>
        </button>
        <div class="auth-header">
            <h2 class="auth-title">Welcome Back</h2>
            <p class="auth-subtitle">Sign in to access your account</p>
        </div>
        <div class="auth-tabs">
            <div class="auth-tab active" data-tab="login">Sign In</div>
            <div class="auth-tab" data-tab="signup">Sign Up</div>
        </div>
        <form class="auth-form active" id="loginForm">
            <div class="form-group">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-input" required>
                <span class="error-message">Please enter a valid email address</span>
            </div>
            <div class="form-group">
                <label class="form-label">Password</label>
                <input type="password" class="form-input" required>
                <span class="error-message">Password must be at least 6 characters</span>
            </div>
            <button type="submit" class="auth-btn">Sign In</button>
        </form>
        <form class="auth-form" id="signupForm">
            <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-input" required>
            </div>
            <div class="form-group">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-input" required>
            </div>
            <div class="form-group">
                <label class="form-label">Password</label>
                <input type="password" class="form-input" required>
            </div>
            <button type="submit" class="auth-btn">Create Account</button>
        </form>
        <div class="social-login">
            <p class="social-title">Or continue with</p>
            <div class="social-buttons">
                <div class="social-btn">
                    <i class="fab fa-google"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Payment Popup -->
<div class="payment-popup" id="paymentPopup">
    <div class="payment-container">
        <button class="close-payment" id="closePayment">
            <i class="fas fa-times"></i>
        </button>
        <div class="payment-header">
            <h2 class="payment-title">Secure Checkout</h2>
        </div>
        <div class="payment-steps">
            <div class="payment-step active">
                <div class="step-number">1</div>
                <div class="step-title">Payment</div>
            </div>
            <div class="payment-step">
                <div class="step-number">2</div>
                <div class="step-title">Review</div>
            </div>
            <div class="payment-step">
                <div class="step-number">3</div>
                <div class="step-title">Confirmation</div>
            </div>
            <div class="payment-progress"></div>
        </div>
        <div class="card-input-container">
            <input type="text" class="card-input" placeholder="Card Number" maxlength="19">
            <div class="card-type">
                <i class="fab fa-cc-visa"></i>
            </div>
        </div>
        <div class="payment-summary">
            <div class="summary-row">
                <span>Subtotal</span>
                <span>$125,000</span>
            </div>
            <div class="summary-row">
                <span>Shipping</span>
                <span>Free</span>
            </div>
            <div class="summary-row total">
                <span>Total</span>
                <span>$125,000</span>
            </div>
        </div>
        <div class="payment-actions">
            <button class="payment-btn secondary">Cancel</button>
            <button class="payment-btn primary">Pay Now</button>
        </div>
        <div class="payment-success">
            <div class="success-icon">
                <i class="fas fa-check"></i>
            </div>
            <h3 class="success-title">Payment Successful!</h3>
            <p class="success-message">Your order has been confirmed.</p>
            <button class="payment-btn primary">View Order</button>
        </div>
    </div>
</div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const authPopup = document.getElementById('authPopup');
      const closeAuth = document.getElementById('closeAuth');
      const authTabs = document.querySelectorAll('.auth-tab');
      const authForms = document.querySelectorAll('.auth-form');
      const loginForm = document.getElementById('loginForm');
      const signupForm = document.getElementById('signupForm');
      const accountBtn = document.querySelector('.account-btn');

      accountBtn?.addEventListener('click', () => {
          authPopup.classList.add('active');
          document.body.style.overflow = 'hidden';
      });

      closeAuth?.addEventListener('click', () => {
          authPopup.classList.remove('active');
          document.body.style.overflow = '';
      });

      authTabs.forEach(tab => {
          tab.addEventListener('click', () => {
              authTabs.forEach(t => t.classList.remove('active'));
              authForms.forEach(f => f.classList.remove('active'));
              tab.classList.add('active');
              document.querySelector(`.auth-form#${tab.dataset.tab}Form`).classList.add('active');
          });
      });

      loginForm?.addEventListener('submit', (e) => {
          e.preventDefault();
          accountBtn.innerHTML = '<div class="user-avatar">JD</div>';
          authPopup.classList.remove('active');
          document.body.style.overflow = '';
      });

      signupForm?.addEventListener('submit', (e) => {
          e.preventDefault();
      });
    });

    const paymentPopup = document.getElementById('paymentPopup');
    const closePayment = document.getElementById('closePayment');
    const checkoutBtn = document.querySelector('.checkout-btn');

    checkoutBtn?.addEventListener('click', () => {
        paymentPopup.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    closePayment?.addEventListener('click', () => {
        paymentPopup.classList.remove('active');
        document.body.style.overflow = '';
    });

    const cardInput = document.querySelector('.card-input');
    cardInput?.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\s/g, '');
        let formattedValue = '';
        
        for (let i = 0; i < value.length; i++) {
            if (i > 0 && i % 4 === 0) {
                formattedValue += ' ';
            }
            formattedValue += value[i];
        }
        
        e.target.value = formattedValue;
    });

    const paymentSteps = document.querySelectorAll('.payment-step');
    const progressBar = document.querySelector('.payment-progress');
    let currentStep = 0;

    function updateProgress() {
        const progress = (currentStep / (paymentSteps.length - 1)) * 100;
        progressBar.style.width = `${progress}%`;
        
        paymentSteps.forEach((step, index) => {
            if (index <= currentStep) {
                step.classList.add('active');
            } else {
                step.classList.remove('active');
            }
        });
    }

    document.querySelector('.payment-btn.primary')?.addEventListener('click', () => {
        if (currentStep < paymentSteps.length - 1) {
            currentStep++;
            updateProgress();
            
            if (currentStep === paymentSteps.length - 1) {
                document.querySelector('.payment-success').classList.add('active');
            }
        }
    });
  </script>
    <script>
      let currentSection = "description";

      // Smooth scroll to section
      function scrollToSection(sectionId) {
        const section = document.getElementById(sectionId);
        if (section) {
          section.scrollIntoView({ behavior: "smooth" });
        }
      }

      // Open image zoom modal
      function openImageZoom() {
        const modal = document.getElementById("imageModal");
        const zoomedImage = document.getElementById("zoomedImage");
        const productImage = document.querySelector(".product-image");

        zoomedImage.src = productImage.src;
        zoomedImage.alt = productImage.alt;
        modal.style.display = "flex";
        document.body.style.overflow = "hidden";
      }

      // Close image zoom modal
      function closeImageZoom() {
        const modal = document.getElementById("imageModal");
        modal.style.display = "none";
        document.body.style.overflow = "auto";
      }

      // Add to cart functionality
      function addToCart() {
    const btn = event.target.closest(".btn-primary");
    const originalText = btn.innerHTML;
    
    // Get current cart count
    let cartCount = parseInt(localStorage.getItem('cartCount')) || 0;
    cartCount++;
    
    // Update localStorage
    localStorage.setItem('cartCount', cartCount);
    
    // Update UI
    const cartCountElements = document.querySelectorAll('.cart-count');
    cartCountElements.forEach(element => {
        element.textContent = cartCount;
    });

    // Show cart sidebar
    const cartSidebar = document.getElementById('cartSidebar');
    cartSidebar.classList.add('active');
    document.body.style.overflow = 'hidden';

    // Update button state
    btn.innerHTML = '<i class="fas fa-check"></i> Added to Cart!';
    btn.style.background = "#28a745";

    setTimeout(() => {
        btn.innerHTML = originalText;
        btn.style.background = "";
    }, 2000);

    console.log("Product added to cart");
}

      // Buy now functionality
      function buyNow() {
        const btn = event.target.closest(".btn-secondary");
        const originalText = btn.innerHTML;

        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';

        setTimeout(() => {
          btn.innerHTML = originalText;
          alert("Redirecting to checkout...");
        }, 1500);

        console.log("Proceeding to checkout");
      }

      // Intersection Observer for section tracking
      function setupSectionTracking() {
        const sections = document.querySelectorAll("section[id]");
        const navButtons = document.querySelectorAll("[data-section]");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                currentSection = entry.target.id;
                updateNavigation();
              }
            });
          },
          { threshold: 0.3 },
        );

        sections.forEach((section) => {
          observer.observe(section);
        });
      }

      // Update navigation active states
      function updateNavigation() {
        const navButtons = document.querySelectorAll("[data-section]");

        navButtons.forEach((button) => {
          if (button.dataset.section === currentSection) {
            button.classList.add("active");
          } else {
            button.classList.remove("active");
          }
        });
      }

      // Keyboard navigation
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          closeImageZoom();
        }
      });

      // Initialize when page loads
      document.addEventListener("DOMContentLoaded", function() {
    const productData = JSON.parse(localStorage.getItem('selectedProduct'));
    
    if (!productData) {
        window.location.href = './luxurystore.html';
        return;
    }

    // Update page title and meta
    document.title = `${productData.brand} ${productData.model} - Chronos Elite`;

    // Update product image
    const productImage = document.querySelector('.product-image');
    productImage.src = productData.image;
    productImage.alt = `${productData.brand} ${productData.model}`;

    // Update basic info
    document.querySelector('.product-brand').textContent = productData.brand;
    document.querySelector('.product-title').textContent = productData.model;
    document.querySelector('.product-price').textContent = `$${productData.price}`;

    // Update rating
    const rating = Math.floor(productData.rating);
    const starsHTML = '★'.repeat(rating) + '☆'.repeat(5 - rating);
    document.querySelector('.stars').innerHTML = starsHTML;
    document.querySelector('.rating-text').textContent = `(${productData.rating}/5.0)`;

    // Update specifications
    const specItems = document.querySelectorAll('.spec-item');
    const specs = [
        { label: "Year", value: productData.year },
        { label: "Movement", value: productData.movement },
        { label: "Material", value: productData.material },
        { label: "Category", value: productData.category },
        { label: "Water Resistance", value: productData.waterResistance },
        { label: "Case Diameter", value: productData.caseDiameter },
        { label: "Crystal", value: productData.crystal },
        { label: "Power Reserve", value: productData.powerReserve }
    ];

    specItems.forEach((item, index) => {
        if (specs[index]) {
            item.querySelector('.spec-label').textContent = specs[index].label;
            item.querySelector('.spec-value').textContent = specs[index].value;
        }
    });

    // Update description
    const descriptionSection = document.querySelector('#description p');
    if (descriptionSection) {
        descriptionSection.textContent = productData.description;
    }

    // Update premium features
    const featuresGrid = document.querySelector('.features-grid');
    if (featuresGrid && productData.features) {
        featuresGrid.innerHTML = productData.features.map(feature => `
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas ${feature.icon}"></i>
                </div>
                <h3 class="feature-title">${feature.title}</h3>
                <p class="feature-description">${feature.description}</p>
            </div>
        `).join('');
    }

    // Setup section tracking
    setupSectionTracking();
});

      // Add to your existing script section
document.addEventListener('DOMContentLoaded', function() {
    // Mobile menu functionality
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    mobileMenuBtn?.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!mobileMenuBtn?.contains(e.target) && !mobileMenu?.contains(e.target)) {
            mobileMenu?.classList.remove('active');
            document.body.style.overflow = '';
        }
    });
    
    // Cart functionality
    const cartBtn = document.getElementById('cartBtn');
    const cartSidebar = document.getElementById('cartSidebar');
    const closeCart = document.getElementById('closeCart');

    // Toggle cart sidebar
    cartBtn?.addEventListener('click', () => {
        cartSidebar.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Close cart sidebar
    closeCart?.addEventListener('click', () => {
        cartSidebar.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Close cart when clicking outside
    document.addEventListener('click', (e) => {
        if (!cartBtn?.contains(e.target) && 
            !cartSidebar?.contains(e.target) && 
            cartSidebar?.classList.contains('active')) {
            cartSidebar.classList.remove('active');
            document.body.style.overflow = '';
        }
    });

    // Update cart count
    const updateCartCount = () => {
        const cartCount = localStorage.getItem('cartCount') || 0;
        const cartCountElements = document.querySelectorAll('.cart-count');
        cartCountElements.forEach(element => {
            element.textContent = cartCount;
        });
    };

    // Initialize cart count
    updateCartCount();
});

      // Update the addToCart function
function addToCart() {
    const btn = event.target.closest(".btn-primary");
    const originalText = btn.innerHTML;
    
    // Get current cart count
    let cartCount = parseInt(localStorage.getItem('cartCount')) || 0;
    cartCount++;
    
    // Update localStorage
    localStorage.setItem('cartCount', cartCount);
    
    // Update UI
    const cartCountElements = document.querySelectorAll('.cart-count');
    cartCountElements.forEach(element => {
        element.textContent = cartCount;
    });

    // Show cart sidebar
    const cartSidebar = document.getElementById('cartSidebar');
    cartSidebar.classList.add('active');
    document.body.style.overflow = 'hidden';

    // Update button state
    btn.innerHTML = '<i class="fas fa-check"></i> Added to Cart!';
    btn.style.background = "#28a745";

    setTimeout(() => {
        btn.innerHTML = originalText;
        btn.style.background = "";
    }, 2000);
}


document.addEventListener('DOMContentLoaded', function() {
    // Product image gallery functionality (unchanged)...
    // (set up images, thumbnails, etc.)

    // Following part handles auth just like in luxurystore.js:
    const authPopup = document.getElementById('authPopup');
    const closeAuth = document.getElementById('closeAuth');
    const authTabs = document.querySelectorAll('.auth-tab');
    const authForms = document.querySelectorAll('.auth-form');
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const accountBtn = document.querySelector('.account-btn');
    const userDropdown = document.getElementById('userDropdown');
    const userAvatar = document.getElementById('userAvatar');
    const userMenu = document.getElementById('userMenu');
    const userNameDisplay = document.getElementById('userNameDisplay');
    const userEmailDisplay = document.getElementById('userEmailDisplay');
    const logoutBtn = document.getElementById('logoutBtn');

    // Utility for initials
    function getInitials(name) {
        return name.split(' ').map(part => part[0].toUpperCase()).join('');
    }

    // Auth popup toggling
    accountBtn?.addEventListener('click', () => {
        authPopup.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
    closeAuth?.addEventListener('click', () => {
        authPopup.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Tab switching in auth popup
    authTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            authTabs.forEach(t => t.classList.remove('active'));
            authForms.forEach(f => f.classList.remove('active'));
            tab.classList.add('active');
            document.querySelector(`.auth-form#${tab.dataset.tab}Form`).classList.add('active');
        });
    });

    // Signup form submit
    signupForm?.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = signupForm.querySelector('input[type="text"]').value;
        const email = signupForm.querySelector('input[type="email"]').value;
        const password = signupForm.querySelector('input[type="password"]').value;
        firebase.auth().createUserWithEmailAndPassword(email, password)
            .then(userCredential => {
                const user = userCredential.user;
                return firebase.firestore().collection('users').doc(user.uid).set({
                    name: name,
                    email: email,
                    password: password,
                    googleEmail: ""
                });
            })
            .catch(error => alert(error.message));
    });

    // Login form submit
    loginForm?.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = loginForm.querySelector('input[type="email"]').value;
        const password = loginForm.querySelector('input[type="password"]').value;
        firebase.auth().signInWithEmailAndPassword(email, password)
            .then(userCredential => {
                const user = userCredential.user;
                firebase.firestore().collection('users').doc(user.uid).get()
                    .then(doc => {
                        if (!doc.exists) {
                            alert("No user record found. Please sign up.");
                            firebase.auth().signOut();
                        }
                    });
            })
            .catch(error => alert(error.message));
    });

    // Google login (on first social button, matching Google icon)
    const googleBtn = document.querySelector('.social-btn .fa-google')?.parentElement;
    googleBtn?.addEventListener('click', () => {
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider)
            .then(result => {
                const user = result.user;
                const userRef = firebase.firestore().collection('users').doc(user.uid);
                userRef.get().then(doc => {
                    if (!doc.exists) {
                        userRef.set({
                            name: user.displayName || "",
                            email: user.email,
                            password: "",
                            googleEmail: user.email
                        });
                    }
                });
            })
            .catch(error => alert(error.message));
    });

    // Auth state change listener
    firebase.auth().onAuthStateChanged(user => {
    if (user) {
        // Signed in
        firebase.firestore().collection('users').doc(user.uid).get()
            .then(doc => {
                if (doc.exists) {
                    const data = doc.data();
                    const name = data.name || "";
                    const email = data.email;
                    const initials = getInitials(name || email);

                    // Update UI
                    userAvatar.textContent = initials;
                    userNameDisplay.textContent = name;
                    userEmailDisplay.textContent = email;
                    accountBtn.style.display = 'none';
                    userDropdown.classList.remove('hidden');

                    // 🔴 Close the login/signup popup
                    authPopup.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
    } else {
        // Signed out
        accountBtn.style.display = '';
        userDropdown.classList.add('hidden');
        userMenu.classList.remove('active');
    }
});


    // Toggle user menu dropdown
    userAvatar?.addEventListener('click', () => {
        userMenu.classList.toggle('active');
    });
    logoutBtn?.addEventListener('click', () => {
        firebase.auth().signOut();
    });

    // ... (existing product page JS, e.g. gallery, addToCart, etc.)
});


    </script>
    <script src="../scripts/performance.js" defer></script>
  </body>
  </body>
</html>
